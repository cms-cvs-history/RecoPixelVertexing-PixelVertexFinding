process PROD = {

  source = PoolSource {
    untracked vstring fileNames = {'file:Sim_10mum_To_AllTracks.root'}
    untracked int32 maxEvents = 100
    untracked int32 firstEvent = 2
    untracked uint32 debugVerbosity = 10
    untracked bool   debugFlag     = true
  }

  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  es_source = XMLIdealGeometryESSource {
    FileInPath GeometryConfiguration="Geometry/TrackerSimData/data/trackerSimConfiguration.xml"
    string rootNodeName = ""
  }
  es_module = TrackerGeometricDetESModule {}
  es_module = TrackerRecoGeometryESProducer {}
  es_module = TrackerDigiGeometryESModule {}

  es_module = PixelFitterByConformalMappingAndLineESProducer{ }
  es_module = PixelFitterByHelixProjectionsESProducer{ }

  module tracks1 = PixelTrackProducer{
    string Fitter = "PixelFitterByConformalMappingAndLine" 
  }
  module tracks2 = PixelTrackProducer{
    string Fitter = "PixelFitterByHelixProjections" 
  }
  es_module = AnalyticalPropagatorESProducer{
                string ComponentName = "AnalyticalPropagator"
                string PropagationDirection = "alongMomentum"
        }
        es_module = KFUpdatorESProducer{
                string ComponentName = "KFUpdator"
        }
        es_module = Chi2MeasurementEstimatorESProducer{
                string ComponentName = "Chi2"
                double MaxChi2 = 1.
                double nSigma = 3.
        }
        es_module = KFTrajectoryFitterESProducer {
                string ComponentName = "KFFitter"
                string  Propagator = "AnalyticalPropagator"
                string Updator = "KFUpdator"
                string Estimator = "Chi2"
        }

  module trackp = TrackProducer{
   string Fitter = "KFFitter"
   string Propagator = "AnalyticalPropagator"
   string src = "sitracks"
 }

  module root = PixelTrackRoot{}
  path p = {trackp,tracks1, tracks2, root}
}

